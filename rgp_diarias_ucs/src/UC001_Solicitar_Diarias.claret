/*
 * RGP_DIARIAS: UC001 - Solicitar diarias
 * Este caso de uso tem como objetivo principal, 
 * permitir que usuarios possam solicitar diarias atraves do sistema. 
 */
systemName "RGP-Diarias"

usecase "UC001 - Solicitar diarias" {
	version "0.1" type "Creation" user "Daniel Medeiros" date "13/04/2020"
	actor usuario "Chefe/Beneficiário"
	
	preCondition "O usuario acessa o caso de uso atraves do menu.", 
		"O sistema exibe a tela de solicitacao de diarias."
	
	basic {
		step 1 usuario "Escolhe o tipo de viagem nacional - fora do estado (interestadual)." af[1,2]
		step 2 system "Exibe a opcao escolhida: viagem nacional - fora do estado (interestadual)." 
		step 3 usuario "Escolhe o estado."
		step 4 system "Exibe a opcao escolhida: estado." ef[1]
		step 5 usuario "Escolhe a(s) cidade(s)."
		step 6 system "Exibe a opcao escolhida: cidade(s)."
		step 7 usuario "Escolhe o tipo de deslocamento."
		step 8 system "Exibe a opcao escolhida: tipo de deslocamento."
		step 9 usuario "Escolhe o tipo de hospedagem."
		step 10 system "Exibe a opcao escolhida: hospedagem."
		step 11 usuario "Escolhe o tipo de periodo de afastamento."
		step 12 system "Exibe a opcao escolhida: periodo de afastamento."
		step 13 usuario "Informa as datas de afastamento, antes do ultimo dia de viagem." af[3,6]
		step 14 system "Exibe as datas escolhidas: datas de afastamento."
		step 15 usuario "Informa se tem pernoite."
		step 16 system "Exibe a opcao escolhida: pernoite."
		step 17 usuario "Informa que acompanha autoridade" af[4]
		step 18 system "Exibe a opcao escolhida: acompanha autoridade." ef[5]
		step 19 usuario "Seleciona a justificativa."
		step 20 system "Exibe a opcao escolhida: justificativa."
		step 21 usuario "Detalha a justificativa."
		step 22 system "Exibe o texto informado: detalhe da justificativa."
		step 23 usuario "Seleciona o(s) beneficiarios da(s) diaria(s)."
		step 24 system "Exibe os beneficiarios selecionados."
		step 25 usuario "Seleciona o(s) beneficiarios da(s) diaria(s)."
		step 26 system "Confirma a existencia de conta para recebimento de diarias do servidor." ef[2]
		step 27 usuario "Clica em confirmar." af [5]
		step 28 system "Calcula o valor da(s) diaria(s) com as informacoes do formulario." ef[3,4]
		step 29 usuario "Verifica os valores presentes na tela."
		step 30 system "Altera o status da diaria para SOLICITADA: (antes) para empenho; ou, (depois) para prestação de contas"
	}
	
	alternative 1 "Usuário seleciona tipo de viagem nacional - dentro do estado." {
		step 1 usuario "Seleciona o tipo de viagem nacional - dentro do estado (intermunicipal)." 
		step 2 system "Exibe a opcao escolhida: viagem nacional - dentro do estado (intermunicipal)"
		step 3 usuario "NÃO Escolhe o estado."
		step 4 system "O sistema seleciona o estado como PB, automaticamente."
		step 5 usuario "Escolhe a(s) cidade(s)." bs 6
	}
	alternative 2 "Usuário seleciona tipo de viagem internacional." {
		step 1 usuario "Seleciona o tipo de viagem internacional." 
		step 2 system "Exibe a lista de países para seleção, no lugar de estado/cidade."
		step 3 usuario "Seleciona o país da viagem."
		step 4 system "Exibe a opcao escolhida: país da viagem"
		step 5 usuario "Escolhe o tipo de deslocamento." bs 8
	}
	alternative 3 "Pedido de Diaria apos realizacao da viagem." {
		step 1 usuario "Informa as datas de afastamento, apos o ultimo dia de viagem." bs 14 
	}
	alternative 4 "Usuário informa que NÃO acompanha autoridade" {
		step 1 usuario "Informa que acompanha autoridade"
		step 2 system "Exibe a opcao escolhida: NÃO acompanha autoridade."
		step 3 usuario "Seleciona a justificativa." bs 20
	}
	alternative 5 "Limpar Campos" {
		step 1 usuario "Clica em limpar campos."
		step 2 system "Apaga todas as seleções do usuário." 
	}
	alternative 6 "Período com dias alternados" {
		step 1 usuario "Informa as datas de afastamento ALTERNADAS, antes do ultimo dia de viagem." bs 14
	}
	
	exception 1 "DNE Indisponivel" {
		step 1 system "Exibe a mensagem de erro MSG201 - DNE indisponível."
	}
	exception 2 "O serviço de integração RGP Core encontra-se indisponível" {
		step 1 system "Exibe a mensagem de erro MSG202 - RGP Core indisponível."
	}
	exception 3 "Dados obrigatórios não informados" {
		step 1 system "Exibe a mensagem de erro MSG203 - Campos obrigatórios, MSG214 - Campos obrigatórios da solicitação de diárias (não informados)."
	}
	exception 4 "Conflito de datas para solicitação de diárias" {
		step 1 system "Exibe a mensagem de erro MSG204 - Conflito de duplicidade de diárias."
	}
	exception 5 "Servidor não pode estar em companhia de autoridade" {
		step 1 system "Exibe a mensagem de erro MSG206 - A categoria funcional do servidor não permite acompanhar autoridades."
	}
	
	postCondition "O sistema salva os dados"
}